---
title: ngx_http_mirror_module
description: ngx_http_mirror_module
toc: true
nd-org-source: http/ngx_http_mirror_module.xml
nd-plus: false
nd-partial-plus: false
---


<!--
      ********************************************************************************
      ðŸ›‘ WARNING: AUTOGENERATED FILE - DO NOT EDIT ðŸ›‘ This Markdown file was
      automatically generated from the source XML documentation. Any manual
      changes made directly to this file will be overwritten. To request or
      suggest changes, please edit the source XML files instead.
      https://github.com/nginx/nginx.org/tree/main/xml/en
      ********************************************************************************
      -->


The `ngx_http_mirror_module` module (1.13.4) implements
mirroring of an original request
by creating background mirror subrequests.
Responses to mirror subrequests are ignored.
## Example Configuration


```nginx
location / {
    mirror /mirror;
    proxy_pass http://backend;
}

location = /mirror {
    internal;
    proxy_pass http://test_backend$request_uri;
}

```

## Directives

### mirror

{{< call-out >}}

**Syntax:** mirror `uri` | `off`

**Default:** off

**Context:** http, server, location


{{</call-out>}}


Sets the URI to which an original request will be mirrored.
Several mirrors can be specified on the same configuration level.
### mirror_request_body

{{< call-out >}}

**Syntax:** mirror_request_body `on` | `off`

**Default:** on

**Context:** http, server, location


{{</call-out>}}


Indicates whether the client request body is mirrored.
When enabled, the client request body will be read
prior to creating mirror subrequests.
In this case, unbuffered client request body proxying
set by the
[proxy_request_buffering](/nginx/module-reference/http/ngx_http_proxy_module#proxy_request_buffering),
[fastcgi_request_buffering](/nginx/module-reference/http/ngx_http_fastcgi_module#fastcgi_request_buffering),
[scgi_request_buffering](/nginx/module-reference/http/ngx_http_scgi_module#scgi_request_buffering),
and
[uwsgi_request_buffering](/nginx/module-reference/http/ngx_http_uwsgi_module#uwsgi_request_buffering)
directives will be disabled.

```nginx
location / {
    mirror /mirror;
    mirror_request_body off;
    proxy_pass http://backend;
}

location = /mirror {
    internal;
    proxy_pass http://log_backend;
    proxy_pass_request_body off;
    proxy_set_header Content-Length "";
    proxy_set_header X-Original-URI $request_uri;
}

```

