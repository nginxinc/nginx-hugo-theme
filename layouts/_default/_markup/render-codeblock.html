{{ $result := transform.HighlightCodeBlock . }}
{{ $codeBlockId :=  printf "id-%x" (now.UnixNano) }}
{{ $lines := split $result.Wrapped "\n" }}
{{ $isSingleLine := eq (len $lines) 1 }}

{{- if $isSingleLine  -}}
<div class="code-block">
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, {{ $codeBlockId }})" class="code-copy-button" type="button">Copy</button>
        <div class="code-content single-line" id="{{ $codeBlockId }}">
            {{ $result.Wrapped }}
        </div>
    </div>
</div>
{{- else -}}
<div class="code-block">
    {{- if and (ne .Type "") (ne .Type "none") -}}
        <figcaption class="code-type"><span class="title chroma">{{ .Type }}</span></figcaption>
    {{- end -}}
    <div class="code-container chroma">
        <button onclick="copyToClipBoard(this, {{ $codeBlockId }})" class="code-copy-button multi-line" type="button">Copy</button>
        <div class="code-content" id="{{ $codeBlockId }}">
            {{ $result.Wrapped }}
        </div>
    </div>
</div>
{{- end -}}